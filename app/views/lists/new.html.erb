<%= turbo_frame_tag "modal" do %>
  <div class="modal-backdrop" onclick="this.closest('turbo-frame').src = null; this.closest('turbo-frame').innerHTML = ''">
    
    <div class="modal-content" onclick="event.stopPropagation()">
      
      <div class="log-container">
        <button type="button" class="close-modal-btn" onclick="document.getElementById('modal').removeAttribute('src'); document.getElementById('modal').innerHTML = ''">
          &times;
        </button>

        <h1>New List</h1>

        <% if @list.errors.any? %>
          <div class="errors">
            <% @list.errors.full_messages.each do |msg| %>
              <p><%= msg %></p>
            <% end %>
          </div>
        <% end %>

        <%= form_with model: @list, local: true do |f| %>
          <div class="field">
            <%= f.label :title %><br>
            <%= f.text_field :title, required: true %>
          </div>

          <div class="field">
            <%= f.label :description %><br>
            <%= f.text_area :description %>
          </div>

          <div>
            <%= f.label :is_public %>
            <%= f.check_box :is_public %>
          </div>

          <div>
            <%= f.label :is_backlog %>
            <%= f.check_box :is_backlog %>
          </div>

          <div class="actions">
            <%= f.submit "Create List", class: "log-btn",
              data: { turbo: false } %>
          </div>
        <% end %>

        <%= link_to "Back to Lists", lists_path %>

      </div>

    </div>
  </div>
<% end %>